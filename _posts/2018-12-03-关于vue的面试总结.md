---
layout:     post
title:      "关于vue的面试总结"
subtitle:   ""
date:       2018-12-03
author:     "漆黑菌"
header-img: "img/post-bg.jpg"
catalog: true
tags:
    - JavaScript
    - vue
    - 面试总结
---

# vue生命周期

# 杂项知识
## vue scoped
`vue scoped`基于css2[attribute]选择器，通过为元素添加形如`data-v-4d9bc88b`的属性来提高css优先级，使之覆盖全局css样式，并通过不同组件生成不同attribute来防止干涉其它组件。

## vue 中使用箭头函数
`vue 中使用箭头函数`es6中的使用箭头函数this会指向声明时的上下文，在vue methods中使用箭头函数会导致上下文变为Window（cdn引用）或vue instance（vue全家桶）。如果使用普通函数声明的话会指向vue本身。原理如下：[https://segmentfault.com/q/1010000007225390](https://segmentfault.com/q/1010000007225390 "vue是如何绑定函数到vue对象上的")，[https://stackoverflow.com/questions/33308121/can-you-bind-arrow-functions](https://stackoverflow.com/questions/33308121/can-you-bind-arrow-functions "根据规范箭头函数不能再次用bind方法绑定上下文")

> 实例方法。实例可以直接访问这些方法，也可以用在指令表达式内。方法的 this 自动绑定到实例。
在vue的methods的this是自动绑定的

源代码：

```
    function initMethods (vm: Component) {
      const methods = vm.$options.methods
      if (methods) {
        for (const key in methods) {
          vm[key] = methods[key] == null ? noop : bind(methods[key], vm)
          if (process.env.NODE_ENV !== 'production' && methods[key] == null) {
            warn(
              `method "${key}" has an undefined value in the component definition. ` +
              `Did you reference the function correctly?`,
              vm
            )
          }
        }
      }
    }
```
你用箭头函数，会返回一个绑定当前执行上下文中的this，而且这个this，不可再切换更改了。你此处绑定的 this 是当前函数体内的this,严格模式下为undefined;


规范：
> Any reference to arguments, super, this, or new.target within an ArrowFunction must resolve to a binding in a lexically enclosing environment. Typically this will be the Function Environment of an immediately enclosing function.

